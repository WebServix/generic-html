import{t as H,o as e,a as r,b as t,e as u,F as q,r as F,f as C,c as _,w as K,u as o,h as U,i as z,j as k,k as G,l as T,m as S,p as W,q as J,s as Q}from"./entry.f18f1398.js";import{u as X,s as Z,_ as Y,a as P,b as ee,c as te,d as se,e as ae}from"./sendRequest.03264b1d.js";import{u as ne}from"./composables.3bc1ec76.js";const oe={class:"modal fade",id:"mobile-menu",tabindex:"-1","aria-hidden":"true"},le={class:"modal-dialog modal-fullscreen"},ie={class:"modal-content"},re={class:"modal-header"},ce={key:0,class:"logo-squared"},de=["src"],ue=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),_e={class:"modal-body"},me={class:"simple-list"},ge={key:0,class:"btn"},pe=t("i",{class:"bx bx-chevron-down"},null,-1),he=t("li",null,null,-1),fe=["href"],be=t("div",{class:"modal-footer"},[t("a",{href:"#","data-bs-dismiss":"modal",class:"language"},"EN"),t("a",{href:"#","data-bs-dismiss":"modal",class:"language"},"IT")],-1),ve={__name:"MobileMenuModal",props:{navList:Array,generalConfig:Object},setup(c){const a=c,{navList:m,logo:v}=H(a);return(g,f)=>{const b=U;return e(),r("div",oe,[t("div",le,[t("div",ie,[t("div",re,[c.generalConfig.logo_squared&&c.generalConfig.logo_squared.data?(e(),r("div",ce,[t("img",{src:c.generalConfig.logo_squared.data.attributes.url,alt:"logo-squared"},null,8,de)])):u("",!0),ue]),t("div",_e,[t("ul",me,[(e(!0),r(q,null,F(o(m),s=>(e(),r("li",null,[s.child?(e(),r("button",ge,[t("div",null,C(s.related.title_menu),1),pe])):(e(),_(b,{key:1,to:g.localePath(s.path+s.related.url),"data-bs-dismiss":"modal"},{default:K(()=>[z(C(s.title),1)]),_:2},1032,["to"]))]))),256)),he,t("li",null,[t("a",{href:c.generalConfig.button_link,class:"btn btn-primary"},C(c.generalConfig.button_text),9,fe)])])]),be])])])}}},we={__name:"[url]",async setup(c){var w,L,O,j,E,M,N;let a,m;const v=k([]),g=k([]),f=G();console.log("OOONNNN");const b=T(),s=k({});var R=f.params.url;console.log("website_id "+f.params.websiteid);const $={headers:{"accept-encoding":"*"}};var x=([a,m]=S(()=>X(b.STRAPI_URL+"/websites/"+f.params.websiteid+"?populate[0]=deep",{method:"get",headers:$.headers},"$Zlxy3l5xl9")),a=await a,m(),a);s.value=x.data.value.data.attributes;debugger;const l=x.data.value.data.attributes.pages.data.filter(p=>p.attributes.url==R)[0];if(l){const p=([a,m]=S(()=>Z("navigation/render/"+s.value.navigationId,null,!1)),a=await a,m(),a);g.value=A(p.value),v.value=l.attributes.content,ne({title:(w=l.attributes.SEO)==null?void 0:w.google_title,meta:[{name:"description",content:(L=l.attributes.SEO)==null?void 0:L.google_description},{name:"og:title",content:(O=l.attributes.SEO)==null?void 0:O.google_title},{name:"og:type",content:"website"},{name:"og:url",content:b.BASE_URL},{name:"og:image",content:(j=l.attributes.SEO)!=null&&j.image&&((E=l.attributes.SEO)!=null&&E.image.data)?(M=l.attributes.SEO)==null?void 0:M.image.data.attributes.url:""},{name:"og:description",content:(N=l.attributes.SEO)==null?void 0:N.google_description},{name:"twitter:card",content:"summary_large_image"}],script:[{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js",integrity:"sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4",crossorigin:"anonymous"}],link:[{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css",rel:"stylesheet",type:"text/css",integrity:"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65",crossorigin:"anonymous"},{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet",type:"text/css"},{href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css",rel:"stylesheet",type:"text/css"},{href:"https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css",rel:"stylesheet",type:"text/css"}]})}else throw W({statusCode:404,statusMessage:"Page Not Found"});function A(p){var i=[];for(const h of p)if(h.parent==null)i.push(h);else{var d=i.findIndex(y=>y.id==h.parent.id);console.log(d),i[d].child=i[d].child==null?[]:i[d].child,i[d].child.push(h)}return i}return(p,i)=>{const d=ve,h=Y,y=te,B=se,I=P,V=ee,D=ae;return e(),r("div",{class:Q(["",o(s).css])},[J(d,{generalConfig:o(s),navList:o(g)},null,8,["generalConfig","navList"]),(e(!0),r(q,null,F(o(v),(n,ye)=>(e(),r("div",null,[n.__component=="page-structure.header"?(e(),_(h,{key:0,data:n,navList:o(g),generalConfig:o(s)},null,8,["data","navList","generalConfig"])):u("",!0),n.__component=="page-structure.cards"?(e(),_(y,{key:1,data:n},null,8,["data"])):u("",!0),n.__component=="page-structure.section"?(e(),_(B,{key:2,data:n},null,8,["data"])):u("",!0),n.__component=="page-structure.divider"?(e(),_(I,{key:3,generalConfig:o(s)},null,8,["generalConfig"])):u("",!0),n.__component=="page-structure.footer"?(e(),_(V,{key:4,navList:o(g),generalConfig:o(s)},null,8,["navList","generalConfig"])):u("",!0),n.__component=="page-structure.newsletter"?(e(),_(D,{key:5,data:n},null,8,["data"])):u("",!0)]))),256))],2)}}};export{we as default};
