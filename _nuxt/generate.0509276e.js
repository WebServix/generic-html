import{s as z,_ as I,a as B,b as F,c as A,d as H,e as N}from"./sendRequest.b9fb09a0.js";import{r as _,a as K,b as T,f as m,l as e,u as s,Q as W,R as y,S as h,U as G,k as c,s as b,j as Q,F as C,i as $,o as l,m as J,c as f}from"./entry.cc8c0ba7.js";import{u as O}from"./composables.c967bd4b.js";const X=e("div",{class:"name"},"Welcome Arnaud",-1),Y={class:"create"},Z=["onSubmit"],P=e("label",{for:"name"},"Name Website",-1),ee=e("label",{for:"url"},"URL",-1),te=e("label",{for:"template"},"Template",-1),ne=e("option",{value:"pizzeria"},"Pizzeria",-1),se=e("option",{value:"psy"},"Psy",-1),oe=e("option",{value:"research"},"Research",-1),ae=[ne,se,oe],le=e("button",{type:"submit"},"Create Website",-1),ie=["onSubmit"],re=e("label",{for:"name"},"Name Website",-1),ue=e("label",{for:"name"},"URL",-1),de=e("button",{type:"submit"},"Create Website",-1),ce={class:"f"},pe=e("br",null,null,-1),me=e("br",null,null,-1),_e=e("br",null,null,-1),be=e("br",null,null,-1),fe=e("br",null,null,-1),ve=e("br",null,null,-1),ye=e("br",null,null,-1),he=e("br",null,null,-1),ge={style:{display:"flex",width:"80%",margin:"auto"}},xe={style:{flex:"1","margin-right":"20px"}},Ce={style:{"box-shadow":"1px 1px 15px","margin-top":"10px"}},Le={__name:"generate",setup(ke){_({});const v=_({}),u=_({}),k=_({}),g=_([]);K(),T();let x=null;const a=_({name:"",url:"",template:""});O({script:[{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js",integrity:"sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4",crossorigin:"anonymous"}],link:[{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css",rel:"stylesheet",type:"text/css",integrity:"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65",crossorigin:"anonymous"},{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet",type:"text/css"},{href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css",rel:"stylesheet",type:"text/css"},{href:"https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css",rel:"stylesheet",type:"text/css"}]});async function S(){var n=await $fetch("/api/createWebsite",{method:"post",body:{name:a.value.name,url:a.value.url,template:a.value.template}});console.log(n.data),x=n.data,u.value=n.data.attributes,n.data&&n.data.attributes&&(v.value=n.data.attributes.pages.data)}async function L(){}async function U(){var n=document.querySelectorAll("*[id]");for(const t of n)t.id.search("content_")==0&&(t.contentEditable=!0)}async function j(){var n=document.querySelectorAll("*[id]");for(const p of n)if(p.id.search("content_")==0){var t=p.id.split("_"),r=parseInt(t[1]),d=t[2];v.value[0].attributes.content[r][d]=p.innerHTML}await $fetch("/api/updateContentWebsite",{method:"post",body:v.value[0]})}async function w(n){await $fetch("/api/updateCSS",{method:"post",body:{CSS:n,id:x.id}}),u.value.css=n}async function R(){console.log("RETRIEVE");var n=await $fetch("/api/getWebsite",{method:"post",body:{id:30}});u.value=n.data.attributes;const t=await z("navigation/render/"+u.value.navigationId,null,!1);g.value=V(t.value),x=n.data,v.value=n.data.attributes.pages.data}function V(n){var t=[];for(const d of n)if(d.parent==null)t.push(d);else{var r=t.findIndex(p=>p.id==d.parent.id);console.log(r),t[r].child=t[r].child==null?[]:t[r].child,t[r].child.push(d)}return t}return(n,t)=>{const r=I,d=A,p=H,E=B,M=F,q=N;return l(),m(C,null,[X,e("div",Y,[s(k).step2!=!0?(l(),m("form",{key:0,onSubmit:W(S,["prevent"])},[e("fieldset",null,[e("ul",null,[e("li",null,[P,y(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=o=>s(a).name=o),required:""},null,512),[[h,s(a).name]])]),e("li",null,[ee,y(e("input",{type:"text",id:"url","onUpdate:modelValue":t[1]||(t[1]=o=>s(a).url=o),required:""},null,512),[[h,s(a).url]])]),e("li",null,[te,y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(a).template=o)},ae,512),[[G,s(a).template]])])])]),le],40,Z)):c("",!0),s(k).step2==!0?(l(),m("form",{key:1,onSubmit:W(S,["prevent"])},[e("fieldset",null,[e("ul",null,[e("li",null,[re,y(e("input",{type:"text",id:"name","onUpdate:modelValue":t[3]||(t[3]=o=>s(a).name=o),required:""},null,512),[[h,s(a).name]])]),e("li",null,[ue,y(e("input",{type:"text",id:"name","onUpdate:modelValue":t[4]||(t[4]=o=>s(a).url=o),required:""},null,512),[[h,s(a).url]])])])]),de],40,ie)):c("",!0)]),e("div",ce,[e("button",{onClick:t[5]||(t[5]=o=>w("brutalist"))},"Use Brutalist"),pe,e("button",{onClick:t[6]||(t[6]=o=>w("default"))},"Use Default"),me,b(),_e,e("button",{onClick:t[7]||(t[7]=o=>R())},"Retrieve Website"),b(),be,b(),fe,e("button",{onClick:t[8]||(t[8]=o=>U())},"Edit Mode"),b(),ve,e("button",{onClick:t[9]||(t[9]=o=>j())},"Save Edit"),b(),ye,b(),he,e("button",{onClick:t[10]||(t[10]=o=>L())},"Deploy"),e("div",{class:Q(["",s(u).css])},[e("div",ge,[(l(!0),m(C,null,$(s(v),(o,Se)=>(l(),m("div",xe,[e("div",null,"Page: "+J(o.attributes.url),1),e("div",Ce,[(l(!0),m(C,null,$(o.attributes.content,(i,D)=>(l(),m("div",null,[i.__component=="page-structure.header"?(l(),f(r,{key:0,index:D,data:i,navList:s(g),generalConfig:s(u)},null,8,["index","data","navList","generalConfig"])):c("",!0),i.__component=="page-structure.cards"?(l(),f(d,{key:1,data:i},null,8,["data"])):c("",!0),i.__component=="page-structure.section"?(l(),f(p,{key:2,data:i},null,8,["data"])):c("",!0),i.__component=="page-structure.divider"?(l(),f(E,{key:3,generalConfig:s(u)},null,8,["generalConfig"])):c("",!0),i.__component=="page-structure.footer"?(l(),f(M,{key:4,navList:s(g),generalConfig:s(u)},null,8,["navList","generalConfig"])):c("",!0),i.__component=="page-structure.newsletter"?(l(),f(q,{key:5,data:i},null,8,["data"])):c("",!0)]))),256))])]))),256))])],2)])],64)}}};export{Le as default};
